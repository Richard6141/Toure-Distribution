name: 'Gestion des Commandes'
description: |-

  API pour gérer les commandes d'achat auprès des fournisseurs.
  Toutes les routes nécessitent une authentification via Sanctum.
endpoints:
  -
    httpMethods:
      - GET
    uri: api/commandes
    metadata:
      groupName: 'Gestion des Commandes'
      groupDescription: |-

        API pour gérer les commandes d'achat auprès des fournisseurs.
        Toutes les routes nécessitent une authentification via Sanctum.
      subgroup: ''
      subgroupDescription: ''
      title: 'Liste des commandes'
      description: 'Récupère la liste paginée de toutes les commandes avec leurs fournisseurs et produits associés.'
      authenticated: true
      deprecated: false
      custom: []
    headers:
      Authorization: 'Bearer Bearer {YOUR_AUTH_TOKEN}'
      Content-Type: application/json
      Accept: application/json
    urlParameters: []
    cleanUrlParameters: []
    queryParameters:
      page:
        name: page
        description: 'Numéro de la page.'
        required: false
        example: 1
        type: integer
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        custom: []
      per_page:
        name: per_page
        description: "Nombre d'éléments par page (max 100)."
        required: false
        example: 15
        type: integer
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        custom: []
      search:
        name: search
        description: 'Rechercher par numéro de commande.'
        required: false
        example: CMD-2025-001
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        custom: []
      status:
        name: status
        description: 'Filtrer par statut (en_attente, validee, en_cours, livree, partiellement_livree, annulee).'
        required: false
        example: en_attente
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        custom: []
      fournisseur_id:
        name: fournisseur_id
        description: 'Filtrer par ID du fournisseur.'
        required: false
        example: 9d0e8f5a-3b2c-4d1e-8f6a-7b8c9d0e1f2a
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        custom: []
      date_achat_debut:
        name: date_achat_debut
        description: "date Filtrer par date d'achat minimum (format: Y-m-d)."
        required: false
        example: '2025-01-01'
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        custom: []
      date_achat_fin:
        name: date_achat_fin
        description: "date Filtrer par date d'achat maximum (format: Y-m-d)."
        required: false
        example: '2025-12-31'
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        custom: []
      montant_min:
        name: montant_min
        description: 'numeric Filtrer par montant minimum.'
        required: false
        example: '1000'
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        custom: []
      montant_max:
        name: montant_max
        description: 'numeric Filtrer par montant maximum.'
        required: false
        example: '50000'
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        custom: []
      en_retard:
        name: en_retard
        description: 'Afficher uniquement les commandes en retard (1 ou 0).'
        required: false
        example: true
        type: boolean
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        custom: []
    cleanQueryParameters:
      page: 1
      per_page: 15
      search: CMD-2025-001
      status: en_attente
      fournisseur_id: 9d0e8f5a-3b2c-4d1e-8f6a-7b8c9d0e1f2a
      date_achat_debut: '2025-01-01'
      date_achat_fin: '2025-12-31'
      montant_min: '1000'
      montant_max: '50000'
      en_retard: true
    bodyParameters: []
    cleanBodyParameters: []
    fileParameters: []
    responses:
      -
        status: 200
        content: |-
          {
            "success": true,
            "message": "Liste des commandes récupérée avec succès",
            "data": {
              "current_page": 1,
              "data": [
                {
                  "commande_id": "9d0e8f5a-3b2c-4d1e-8f6a-7b8c9d0e1f2a",
                  "numero_commande": "CMD-2025-0001",
                  "fournisseur_id": "9d0e8f5a-3b2c-4d1e-8f6a-7b8c9d0e1f2b",
                  "date_achat": "2025-01-15",
                  "date_livraison_prevue": "2025-02-15",
                  "date_livraison_effective": null,
                  "montant": "75000.00",
                  "status": "en_attente",
                  "note": "Commande urgente",
                  "created_at": "2025-01-15T10:30:00.000000Z",
                  "updated_at": "2025-01-15T10:30:00.000000Z",
                  "fournisseur": {
                    "fournisseur_id": "9d0e8f5a-3b2c-4d1e-8f6a-7b8c9d0e1f2b",
                    "code": "FOUR001",
                    "name": "Fournisseur ABC",
                    "email": "contact@fournisseur-abc.com",
                    "phone": "+229 97 00 00 00"
                  },
                  "details": [
                    {
                      "detail_commande_id": "9d0e8f5a-3b2c-4d1e-8f6a-7b8c9d0e1f2c",
                      "commande_id": "9d0e8f5a-3b2c-4d1e-8f6a-7b8c9d0e1f2a",
                      "product_id": "9d0e8f5a-3b2c-4d1e-8f6a-7b8c9d0e1f2d",
                      "quantite": 10,
                      "prix_unitaire": "2500.00",
                      "sous_total": "25000.00",
                      "created_at": "2025-01-15T10:30:00.000000Z",
                      "updated_at": "2025-01-15T10:30:00.000000Z",
                      "product": {
                        "product_id": "9d0e8f5a-3b2c-4d1e-8f6a-7b8c9d0e1f2d",
                        "code": "PROD001",
                        "name": "Laptop Dell XPS 15",
                        "unit_price": "2500.00",
                        "picture": "laptop-dell-xps.jpg"
                      }
                    },
                    {
                      "detail_commande_id": "9d0e8f5a-3b2c-4d1e-8f6a-7b8c9d0e1f2e",
                      "commande_id": "9d0e8f5a-3b2c-4d1e-8f6a-7b8c9d0e1f2a",
                      "product_id": "9d0e8f5a-3b2c-4d1e-8f6a-7b8c9d0e1f2f",
                      "quantite": 5,
                      "prix_unitaire": "5000.00",
                      "sous_total": "25000.00",
                      "created_at": "2025-01-15T10:30:00.000000Z",
                      "updated_at": "2025-01-15T10:30:00.000000Z",
                      "product": {
                        "product_id": "9d0e8f5a-3b2c-4d1e-8f6a-7b8c9d0e1f2f",
                        "code": "PROD002",
                        "name": "Imprimante HP LaserJet",
                        "unit_price": "5000.00",
                        "picture": "imprimante-hp.jpg"
                      }
                    }
                  ]
                }
              ],
              "first_page_url": "http://localhost/api/commandes?page=1",
              "from": 1,
              "last_page": 3,
              "per_page": 15,
              "to": 15,
              "total": 45
            }
          }
        headers: []
        description: ''
        custom: []
    responseFields: []
    auth:
      - headers
      - Authorization
      - 'Bearer 6g43cv8PD1aE5beadkZfhV6'
    controller: null
    method: null
    route: null
    custom: []
  -
    httpMethods:
      - POST
    uri: api/commandes
    metadata:
      groupName: 'Gestion des Commandes'
      groupDescription: |-

        API pour gérer les commandes d'achat auprès des fournisseurs.
        Toutes les routes nécessitent une authentification via Sanctum.
      subgroup: ''
      subgroupDescription: ''
      title: 'Créer une commande'
      description: |-
        Enregistre une nouvelle commande d'achat dans le système.
        Le numéro de commande est généré automatiquement au format CMD-YYYY-0001.
      authenticated: true
      deprecated: false
      custom: []
    headers:
      Authorization: 'Bearer Bearer {YOUR_AUTH_TOKEN}'
      Content-Type: application/json
      Accept: application/json
    urlParameters: []
    cleanUrlParameters: []
    queryParameters: []
    cleanQueryParameters: []
    bodyParameters:
      fournisseur_id:
        name: fournisseur_id
        description: "L'UUID du fournisseur."
        required: true
        example: 9d0e8f5a-3b2c-4d1e-8f6a-7b8c9d0e1f2b
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        custom: []
      date_achat:
        name: date_achat
        description: "La date d'achat (format: Y-m-d)."
        required: true
        example: '2025-01-15'
        type: date
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        custom: []
      date_livraison_prevue:
        name: date_livraison_prevue
        description: 'La date de livraison prévue (format: Y-m-d).'
        required: true
        example: '2025-02-15'
        type: date
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        custom: []
      date_livraison_effective:
        name: date_livraison_effective
        description: 'La date de livraison effective (format: Y-m-d).'
        required: false
        example: '2025-02-10'
        type: date
        enumValues: []
        exampleWasSpecified: true
        nullable: true
        custom: []
      montant:
        name: montant
        description: 'Le montant total de la commande.'
        required: true
        example: '25000.00'
        type: numeric
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        custom: []
      status:
        name: status
        description: 'Le statut de la commande (en_attente, validee, en_cours, livree, partiellement_livree, annulee). Par défaut: en_attente.'
        required: false
        example: en_attente
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        custom: []
      note:
        name: note
        description: 'Des notes ou observations sur la commande.'
        required: false
        example: 'Commande urgente'
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: true
        custom: []
    cleanBodyParameters:
      fournisseur_id: 9d0e8f5a-3b2c-4d1e-8f6a-7b8c9d0e1f2b
      date_achat: '2025-01-15'
      date_livraison_prevue: '2025-02-15'
      date_livraison_effective: '2025-02-10'
      montant: '25000.00'
      status: en_attente
      note: 'Commande urgente'
    fileParameters: []
    responses:
      -
        status: 201
        content: |-
          {
            "success": true,
            "message": "Commande créée avec succès",
            "data": {
              "commande_id": "9d0e8f5a-3b2c-4d1e-8f6a-7b8c9d0e1f2a",
              "numero_commande": "CMD-2025-0001",
              "fournisseur_id": "9d0e8f5a-3b2c-4d1e-8f6a-7b8c9d0e1f2b",
              "date_achat": "2025-01-15",
              "date_livraison_prevue": "2025-02-15",
              "date_livraison_effective": null,
              "montant": "25000.00",
              "status": "en_attente",
              "note": "Commande urgente",
              "created_at": "2025-01-15T10:30:00.000000Z",
              "updated_at": "2025-01-15T10:30:00.000000Z",
              "fournisseur": {
                "fournisseur_id": "9d0e8f5a-3b2c-4d1e-8f6a-7b8c9d0e1f2b",
                "code": "FOUR001",
                "name": "Fournisseur ABC",
                "email": "contact@fournisseur-abc.com"
              }
            }
          }
        headers: []
        description: ''
        custom: []
      -
        status: 422
        content: |-
          {
            "success": false,
            "message": "Erreur de validation",
            "errors": {
              "fournisseur_id": [
                "Le fournisseur sélectionné n'existe pas"
              ]
            }
          }
        headers: []
        description: ''
        custom: []
    responseFields: []
    auth:
      - headers
      - Authorization
      - 'Bearer 6g43cv8PD1aE5beadkZfhV6'
    controller: null
    method: null
    route: null
    custom: []
  -
    httpMethods:
      - GET
    uri: 'api/commandes/{id}'
    metadata:
      groupName: 'Gestion des Commandes'
      groupDescription: |-

        API pour gérer les commandes d'achat auprès des fournisseurs.
        Toutes les routes nécessitent une authentification via Sanctum.
      subgroup: ''
      subgroupDescription: ''
      title: 'Afficher une commande'
      description: "Récupère les détails d'une commande spécifique avec son fournisseur et tous ses produits."
      authenticated: true
      deprecated: false
      custom: []
    headers:
      Authorization: 'Bearer Bearer {YOUR_AUTH_TOKEN}'
      Content-Type: application/json
      Accept: application/json
    urlParameters:
      id:
        name: id
        description: "L'UUID de la commande."
        required: true
        example: 9d0e8f5a-3b2c-4d1e-8f6a-7b8c9d0e1f2a
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        custom: []
    cleanUrlParameters:
      id: 9d0e8f5a-3b2c-4d1e-8f6a-7b8c9d0e1f2a
    queryParameters: []
    cleanQueryParameters: []
    bodyParameters: []
    cleanBodyParameters: []
    fileParameters: []
    responses:
      -
        status: 200
        content: |-
          {
            "success": true,
            "message": "Détails de la commande récupérés avec succès",
            "data": {
              "commande_id": "9d0e8f5a-3b2c-4d1e-8f6a-7b8c9d0e1f2a",
              "numero_commande": "CMD-2025-0001",
              "fournisseur_id": "9d0e8f5a-3b2c-4d1e-8f6a-7b8c9d0e1f2b",
              "date_achat": "2025-01-15",
              "date_livraison_prevue": "2025-02-15",
              "date_livraison_effective": null,
              "montant": "75000.00",
              "status": "en_attente",
              "note": "Commande urgente",
              "created_at": "2025-01-15T10:30:00.000000Z",
              "updated_at": "2025-01-15T10:30:00.000000Z",
              "is_en_attente": true,
              "is_livree": false,
              "is_en_retard": false,
              "fournisseur": {
                "fournisseur_id": "9d0e8f5a-3b2c-4d1e-8f6a-7b8c9d0e1f2b",
                "code": "FOUR001",
                "name": "Fournisseur ABC",
                "responsable": "Jean Dupont",
                "email": "contact@fournisseur-abc.com",
                "phone": "+229 97 00 00 00",
                "adresse": "123 Rue Principale",
                "city": "Cotonou"
              },
              "details": [
                {
                  "detail_commande_id": "9d0e8f5a-3b2c-4d1e-8f6a-7b8c9d0e1f2c",
                  "commande_id": "9d0e8f5a-3b2c-4d1e-8f6a-7b8c9d0e1f2a",
                  "product_id": "9d0e8f5a-3b2c-4d1e-8f6a-7b8c9d0e1f2d",
                  "quantite": 10,
                  "prix_unitaire": "2500.00",
                  "sous_total": "25000.00",
                  "created_at": "2025-01-15T10:30:00.000000Z",
                  "updated_at": "2025-01-15T10:30:00.000000Z",
                  "product": {
                    "product_id": "9d0e8f5a-3b2c-4d1e-8f6a-7b8c9d0e1f2d",
                    "code": "PROD001",
                    "name": "Laptop Dell XPS 15",
                    "description": "Ordinateur portable haute performance",
                    "unit_price": "2500.00",
                    "cost": "2000.00",
                    "minimum_cost": "1800.00",
                    "min_stock_level": 5,
                    "is_active": true,
                    "picture": "laptop-dell-xps.jpg",
                    "product_category_id": "8c3e1d7a-2b4c-5d6e-7f8a-9b0c1d2e3f4b",
                    "created_at": "2025-01-10T08:00:00.000000Z",
                    "updated_at": "2025-01-10T08:00:00.000000Z"
                  }
                },
                {
                  "detail_commande_id": "9d0e8f5a-3b2c-4d1e-8f6a-7b8c9d0e1f2e",
                  "commande_id": "9d0e8f5a-3b2c-4d1e-8f6a-7b8c9d0e1f2a",
                  "product_id": "9d0e8f5a-3b2c-4d1e-8f6a-7b8c9d0e1f2f",
                  "quantite": 5,
                  "prix_unitaire": "5000.00",
                  "sous_total": "25000.00",
                  "created_at": "2025-01-15T10:30:00.000000Z",
                  "updated_at": "2025-01-15T10:30:00.000000Z",
                  "product": {
                    "product_id": "9d0e8f5a-3b2c-4d1e-8f6a-7b8c9d0e1f2f",
                    "code": "PROD002",
                    "name": "Imprimante HP LaserJet",
                    "description": "Imprimante laser professionnelle",
                    "unit_price": "5000.00",
                    "cost": "4000.00",
                    "minimum_cost": "3500.00",
                    "min_stock_level": 3,
                    "is_active": true,
                    "picture": "imprimante-hp.jpg",
                    "product_category_id": "8c3e1d7a-2b4c-5d6e-7f8a-9b0c1d2e3f4b",
                    "created_at": "2025-01-10T08:00:00.000000Z",
                    "updated_at": "2025-01-10T08:00:00.000000Z"
                  }
                },
                {
                  "detail_commande_id": "9d0e8f5a-3b2c-4d1e-8f6a-7b8c9d0e1f30",
                  "commande_id": "9d0e8f5a-3b2c-4d1e-8f6a-7b8c9d0e1f2a",
                  "product_id": "9d0e8f5a-3b2c-4d1e-8f6a-7b8c9d0e1f31",
                  "quantite": 20,
                  "prix_unitaire": "1250.00",
                  "sous_total": "25000.00",
                  "created_at": "2025-01-15T10:30:00.000000Z",
                  "updated_at": "2025-01-15T10:30:00.000000Z",
                  "product": {
                    "product_id": "9d0e8f5a-3b2c-4d1e-8f6a-7b8c9d0e1f31",
                    "code": "PROD003",
                    "name": "Souris sans fil Logitech",
                    "description": "Souris ergonomique sans fil",
                    "unit_price": "1250.00",
                    "cost": "800.00",
                    "minimum_cost": "600.00",
                    "min_stock_level": 20,
                    "is_active": true,
                    "picture": "souris-logitech.jpg",
                    "product_category_id": "8c3e1d7a-2b4c-5d6e-7f8a-9b0c1d2e3f4b",
                    "created_at": "2025-01-10T08:00:00.000000Z",
                    "updated_at": "2025-01-10T08:00:00.000000Z"
                  }
                }
              ]
            }
          }
        headers: []
        description: ''
        custom: []
      -
        status: 404
        content: |-
          {
            "success": false,
            "message": "Commande non trouvée"
          }
        headers: []
        description: ''
        custom: []
    responseFields: []
    auth:
      - headers
      - Authorization
      - 'Bearer 6g43cv8PD1aE5beadkZfhV6'
    controller: null
    method: null
    route: null
    custom: []
  -
    httpMethods:
      - PUT
    uri: 'api/commandes/{id}'
    metadata:
      groupName: 'Gestion des Commandes'
      groupDescription: |-

        API pour gérer les commandes d'achat auprès des fournisseurs.
        Toutes les routes nécessitent une authentification via Sanctum.
      subgroup: ''
      subgroupDescription: ''
      title: 'Mettre à jour une commande'
      description: |-
        Met à jour les informations d'une commande existante.
        Note: Le numéro de commande ne peut pas être modifié.
      authenticated: true
      deprecated: false
      custom: []
    headers:
      Authorization: 'Bearer Bearer {YOUR_AUTH_TOKEN}'
      Content-Type: application/json
      Accept: application/json
    urlParameters:
      id:
        name: id
        description: "L'UUID de la commande."
        required: true
        example: 9d0e8f5a-3b2c-4d1e-8f6a-7b8c9d0e1f2a
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        custom: []
    cleanUrlParameters:
      id: 9d0e8f5a-3b2c-4d1e-8f6a-7b8c9d0e1f2a
    queryParameters: []
    cleanQueryParameters: []
    bodyParameters:
      fournisseur_id:
        name: fournisseur_id
        description: "L'UUID du fournisseur."
        required: false
        example: 9d0e8f5a-3b2c-4d1e-8f6a-7b8c9d0e1f2b
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        custom: []
      date_achat:
        name: date_achat
        description: "La date d'achat (format: Y-m-d)."
        required: false
        example: '2025-01-15'
        type: date
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        custom: []
      date_livraison_prevue:
        name: date_livraison_prevue
        description: 'La date de livraison prévue (format: Y-m-d).'
        required: false
        example: '2025-02-15'
        type: date
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        custom: []
      date_livraison_effective:
        name: date_livraison_effective
        description: 'La date de livraison effective (format: Y-m-d).'
        required: false
        example: '2025-02-10'
        type: date
        enumValues: []
        exampleWasSpecified: true
        nullable: true
        custom: []
      montant:
        name: montant
        description: 'Le montant total de la commande.'
        required: false
        example: '25000.00'
        type: numeric
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        custom: []
      status:
        name: status
        description: 'Le statut de la commande.'
        required: false
        example: livree
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        custom: []
      note:
        name: note
        description: 'Des notes ou observations sur la commande.'
        required: false
        example: 'Livraison effectuée avec succès'
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: true
        custom: []
    cleanBodyParameters:
      fournisseur_id: 9d0e8f5a-3b2c-4d1e-8f6a-7b8c9d0e1f2b
      date_achat: '2025-01-15'
      date_livraison_prevue: '2025-02-15'
      date_livraison_effective: '2025-02-10'
      montant: '25000.00'
      status: livree
      note: 'Livraison effectuée avec succès'
    fileParameters: []
    responses:
      -
        status: 200
        content: |-
          {
            "success": true,
            "message": "Commande mise à jour avec succès",
            "data": {
              "commande_id": "9d0e8f5a-3b2c-4d1e-8f6a-7b8c9d0e1f2a",
              "numero_commande": "CMD-2025-0001",
              "fournisseur_id": "9d0e8f5a-3b2c-4d1e-8f6a-7b8c9d0e1f2b",
              "date_achat": "2025-01-15",
              "date_livraison_prevue": "2025-02-15",
              "date_livraison_effective": "2025-02-10",
              "montant": "25000.00",
              "status": "livree",
              "note": "Livraison effectuée avec succès",
              "created_at": "2025-01-15T10:30:00.000000Z",
              "updated_at": "2025-02-10T14:30:00.000000Z",
              "fournisseur": {
                "fournisseur_id": "9d0e8f5a-3b2c-4d1e-8f6a-7b8c9d0e1f2b",
                "code": "FOUR001",
                "name": "Fournisseur ABC"
              }
            }
          }
        headers: []
        description: ''
        custom: []
      -
        status: 404
        content: |-
          {
            "success": false,
            "message": "Commande non trouvée"
          }
        headers: []
        description: ''
        custom: []
    responseFields: []
    auth:
      - headers
      - Authorization
      - 'Bearer 6g43cv8PD1aE5beadkZfhV6'
    controller: null
    method: null
    route: null
    custom: []
  -
    httpMethods:
      - PATCH
    uri: 'api/commandes/{id}'
    metadata:
      groupName: 'Gestion des Commandes'
      groupDescription: |-

        API pour gérer les commandes d'achat auprès des fournisseurs.
        Toutes les routes nécessitent une authentification via Sanctum.
      subgroup: ''
      subgroupDescription: ''
      title: 'Mettre à jour une commande'
      description: |-
        Met à jour les informations d'une commande existante.
        Note: Le numéro de commande ne peut pas être modifié.
      authenticated: true
      deprecated: false
      custom: []
    headers:
      Authorization: 'Bearer Bearer {YOUR_AUTH_TOKEN}'
      Content-Type: application/json
      Accept: application/json
    urlParameters:
      id:
        name: id
        description: "L'UUID de la commande."
        required: true
        example: 9d0e8f5a-3b2c-4d1e-8f6a-7b8c9d0e1f2a
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        custom: []
    cleanUrlParameters:
      id: 9d0e8f5a-3b2c-4d1e-8f6a-7b8c9d0e1f2a
    queryParameters: []
    cleanQueryParameters: []
    bodyParameters:
      fournisseur_id:
        name: fournisseur_id
        description: "L'UUID du fournisseur."
        required: false
        example: 9d0e8f5a-3b2c-4d1e-8f6a-7b8c9d0e1f2b
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        custom: []
      date_achat:
        name: date_achat
        description: "La date d'achat (format: Y-m-d)."
        required: false
        example: '2025-01-15'
        type: date
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        custom: []
      date_livraison_prevue:
        name: date_livraison_prevue
        description: 'La date de livraison prévue (format: Y-m-d).'
        required: false
        example: '2025-02-15'
        type: date
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        custom: []
      date_livraison_effective:
        name: date_livraison_effective
        description: 'La date de livraison effective (format: Y-m-d).'
        required: false
        example: '2025-02-10'
        type: date
        enumValues: []
        exampleWasSpecified: true
        nullable: true
        custom: []
      montant:
        name: montant
        description: 'Le montant total de la commande.'
        required: false
        example: '25000.00'
        type: numeric
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        custom: []
      status:
        name: status
        description: 'Le statut de la commande.'
        required: false
        example: livree
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        custom: []
      note:
        name: note
        description: 'Des notes ou observations sur la commande.'
        required: false
        example: 'Livraison effectuée avec succès'
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: true
        custom: []
    cleanBodyParameters:
      fournisseur_id: 9d0e8f5a-3b2c-4d1e-8f6a-7b8c9d0e1f2b
      date_achat: '2025-01-15'
      date_livraison_prevue: '2025-02-15'
      date_livraison_effective: '2025-02-10'
      montant: '25000.00'
      status: livree
      note: 'Livraison effectuée avec succès'
    fileParameters: []
    responses:
      -
        status: 200
        content: |-
          {
            "success": true,
            "message": "Commande mise à jour avec succès",
            "data": {
              "commande_id": "9d0e8f5a-3b2c-4d1e-8f6a-7b8c9d0e1f2a",
              "numero_commande": "CMD-2025-0001",
              "fournisseur_id": "9d0e8f5a-3b2c-4d1e-8f6a-7b8c9d0e1f2b",
              "date_achat": "2025-01-15",
              "date_livraison_prevue": "2025-02-15",
              "date_livraison_effective": "2025-02-10",
              "montant": "25000.00",
              "status": "livree",
              "note": "Livraison effectuée avec succès",
              "created_at": "2025-01-15T10:30:00.000000Z",
              "updated_at": "2025-02-10T14:30:00.000000Z",
              "fournisseur": {
                "fournisseur_id": "9d0e8f5a-3b2c-4d1e-8f6a-7b8c9d0e1f2b",
                "code": "FOUR001",
                "name": "Fournisseur ABC"
              }
            }
          }
        headers: []
        description: ''
        custom: []
      -
        status: 404
        content: |-
          {
            "success": false,
            "message": "Commande non trouvée"
          }
        headers: []
        description: ''
        custom: []
    responseFields: []
    auth:
      - headers
      - Authorization
      - 'Bearer 6g43cv8PD1aE5beadkZfhV6'
    controller: null
    method: null
    route: null
    custom: []
  -
    httpMethods:
      - DELETE
    uri: 'api/commandes/{id}'
    metadata:
      groupName: 'Gestion des Commandes'
      groupDescription: |-

        API pour gérer les commandes d'achat auprès des fournisseurs.
        Toutes les routes nécessitent une authentification via Sanctum.
      subgroup: ''
      subgroupDescription: ''
      title: 'Supprimer une commande'
      description: |-
        Effectue une suppression logique (soft delete) d'une commande.
        La commande reste dans la base mais est marquée comme supprimée.
      authenticated: true
      deprecated: false
      custom: []
    headers:
      Authorization: 'Bearer Bearer {YOUR_AUTH_TOKEN}'
      Content-Type: application/json
      Accept: application/json
    urlParameters:
      id:
        name: id
        description: "L'UUID de la commande."
        required: true
        example: 9d0e8f5a-3b2c-4d1e-8f6a-7b8c9d0e1f2a
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        custom: []
    cleanUrlParameters:
      id: 9d0e8f5a-3b2c-4d1e-8f6a-7b8c9d0e1f2a
    queryParameters: []
    cleanQueryParameters: []
    bodyParameters: []
    cleanBodyParameters: []
    fileParameters: []
    responses:
      -
        status: 200
        content: |-
          {
            "success": true,
            "message": "Commande supprimée avec succès"
          }
        headers: []
        description: ''
        custom: []
      -
        status: 404
        content: |-
          {
            "success": false,
            "message": "Commande non trouvée"
          }
        headers: []
        description: ''
        custom: []
    responseFields: []
    auth:
      - headers
      - Authorization
      - 'Bearer 6g43cv8PD1aE5beadkZfhV6'
    controller: null
    method: null
    route: null
    custom: []
  -
    httpMethods:
      - GET
    uri: api/commandes/trashed/list
    metadata:
      groupName: 'Gestion des Commandes'
      groupDescription: |-

        API pour gérer les commandes d'achat auprès des fournisseurs.
        Toutes les routes nécessitent une authentification via Sanctum.
      subgroup: ''
      subgroupDescription: ''
      title: 'Liste des commandes supprimées'
      description: 'Récupère la liste paginée de toutes les commandes supprimées (soft deleted).'
      authenticated: true
      deprecated: false
      custom: []
    headers:
      Authorization: 'Bearer Bearer {YOUR_AUTH_TOKEN}'
      Content-Type: application/json
      Accept: application/json
    urlParameters: []
    cleanUrlParameters: []
    queryParameters:
      page:
        name: page
        description: 'Numéro de la page.'
        required: false
        example: 1
        type: integer
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        custom: []
      per_page:
        name: per_page
        description: "Nombre d'éléments par page (max 100)."
        required: false
        example: 15
        type: integer
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        custom: []
    cleanQueryParameters:
      page: 1
      per_page: 15
    bodyParameters: []
    cleanBodyParameters: []
    fileParameters: []
    responses:
      -
        status: 200
        content: |-
          {
            "success": true,
            "message": "Liste des commandes supprimées récupérée avec succès",
            "data": {
              "current_page": 1,
              "data": [
                {
                  "commande_id": "9d0e8f5a-3b2c-4d1e-8f6a-7b8c9d0e1f2a",
                  "numero_commande": "CMD-2025-0001",
                  "fournisseur_id": "9d0e8f5a-3b2c-4d1e-8f6a-7b8c9d0e1f2b",
                  "date_achat": "2025-01-15",
                  "montant": "25000.00",
                  "status": "annulee",
                  "created_at": "2025-01-15T10:30:00.000000Z",
                  "updated_at": "2025-01-15T10:30:00.000000Z",
                  "deleted_at": "2025-01-20T14:30:00.000000Z",
                  "fournisseur": {
                    "fournisseur_id": "9d0e8f5a-3b2c-4d1e-8f6a-7b8c9d0e1f2b",
                    "code": "FOUR001",
                    "name": "Fournisseur ABC"
                  }
                }
              ],
              "first_page_url": "http://localhost/api/commandes/trashed/list?page=1",
              "from": 1,
              "last_page": 1,
              "per_page": 15,
              "to": 3,
              "total": 3
            }
          }
        headers: []
        description: ''
        custom: []
    responseFields: []
    auth:
      - headers
      - Authorization
      - 'Bearer 6g43cv8PD1aE5beadkZfhV6'
    controller: null
    method: null
    route: null
    custom: []
  -
    httpMethods:
      - POST
    uri: 'api/commandes/{id}/restore'
    metadata:
      groupName: 'Gestion des Commandes'
      groupDescription: |-

        API pour gérer les commandes d'achat auprès des fournisseurs.
        Toutes les routes nécessitent une authentification via Sanctum.
      subgroup: ''
      subgroupDescription: ''
      title: 'Restaurer une commande supprimée'
      description: 'Restaure une commande précédemment supprimée (soft deleted).'
      authenticated: true
      deprecated: false
      custom: []
    headers:
      Authorization: 'Bearer Bearer {YOUR_AUTH_TOKEN}'
      Content-Type: application/json
      Accept: application/json
    urlParameters:
      id:
        name: id
        description: "L'UUID de la commande supprimée."
        required: true
        example: 9d0e8f5a-3b2c-4d1e-8f6a-7b8c9d0e1f2a
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        custom: []
    cleanUrlParameters:
      id: 9d0e8f5a-3b2c-4d1e-8f6a-7b8c9d0e1f2a
    queryParameters: []
    cleanQueryParameters: []
    bodyParameters: []
    cleanBodyParameters: []
    fileParameters: []
    responses:
      -
        status: 200
        content: |-
          {
            "success": true,
            "message": "Commande restaurée avec succès",
            "data": {
              "commande_id": "9d0e8f5a-3b2c-4d1e-8f6a-7b8c9d0e1f2a",
              "numero_commande": "CMD-2025-0001",
              "fournisseur_id": "9d0e8f5a-3b2c-4d1e-8f6a-7b8c9d0e1f2b",
              "date_achat": "2025-01-15",
              "date_livraison_prevue": "2025-02-15",
              "montant": "25000.00",
              "status": "en_attente",
              "created_at": "2025-01-15T10:30:00.000000Z",
              "updated_at": "2025-01-15T10:30:00.000000Z",
              "deleted_at": null,
              "fournisseur": {
                "fournisseur_id": "9d0e8f5a-3b2c-4d1e-8f6a-7b8c9d0e1f2b",
                "code": "FOUR001",
                "name": "Fournisseur ABC"
              }
            }
          }
        headers: []
        description: ''
        custom: []
      -
        status: 404
        content: |-
          {
            "success": false,
            "message": "Commande supprimée non trouvée"
          }
        headers: []
        description: ''
        custom: []
    responseFields: []
    auth:
      - headers
      - Authorization
      - 'Bearer 6g43cv8PD1aE5beadkZfhV6'
    controller: null
    method: null
    route: null
    custom: []
  -
    httpMethods:
      - POST
    uri: 'api/commandes/{id}/distribute-to-warehouses'
    metadata:
      groupName: 'Gestion des Commandes'
      groupDescription: |-

        API pour gérer les commandes d'achat auprès des fournisseurs.
        Toutes les routes nécessitent une authentification via Sanctum.
      subgroup: ''
      subgroupDescription: ''
      title: 'Répartir une commande livrée dans les entrepôts'
      description: |-
        Permet au responsable de la centrale de répartir les produits d'une commande livrée
        dans différents entrepôts selon les besoins. La répartition peut se faire en plusieurs fois.

        **Processus automatique :**
        - ✅ Validation que la commande est bien livrée
        - ✅ Vérification que les produits existent dans la table products
        - ✅ Contrôle strict des quantités (ne pas dépasser ce qui est commandé)
        - ✅ Création automatique des stocks si le produit n'existe pas dans l'entrepôt
        - ✅ Mise à jour automatique des stocks existants
        - ✅ Création des mouvements de stock et de leurs détails
        - ✅ Validation automatique des mouvements
      authenticated: true
      deprecated: false
      custom: []
    headers:
      Authorization: 'Bearer Bearer {YOUR_AUTH_TOKEN}'
      Content-Type: application/json
      Accept: application/json
    urlParameters:
      id:
        name: id
        description: 'UUID de la commande livrée.'
        required: true
        example: 9d0e8f5a-3b2c-4d1e-8f6a-7b8c9d0e1f2a
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        custom: []
    cleanUrlParameters:
      id: 9d0e8f5a-3b2c-4d1e-8f6a-7b8c9d0e1f2a
    queryParameters: []
    cleanQueryParameters: []
    bodyParameters:
      distributions:
        name: distributions
        description: 'Tableau des répartitions par entrepôt (minimum 1).'
        required: true
        example: null
        type: 'string[]'
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        custom: []
      'distributions[].entrepot_id':
        name: 'distributions[].entrepot_id'
        description: "UUID de l'entrepôt de destination."
        required: true
        example: 550e8400-e29b-41d4-a716-446655440002
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        custom: []
      'distributions[].products':
        name: 'distributions[].products'
        description: 'Produits à transférer vers cet entrepôt (minimum 1).'
        required: true
        example:
          -
            product_id: 550e...
            quantite: 50
        type: 'string[]'
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        custom: []
      'distributions[].products[].product_id':
        name: 'distributions[].products[].product_id'
        description: 'UUID du produit (doit exister dans la table products).'
        required: true
        example: 550e8400-e29b-41d4-a716-446655440003
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        custom: []
      'distributions[].products[].quantite':
        name: 'distributions[].products[].quantite'
        description: 'Quantité à transférer (minimum 1).'
        required: true
        example: 50
        type: integer
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        custom: []
      'distributions[].note':
        name: 'distributions[].note'
        description: 'optional Note ou observation sur cette répartition.'
        required: false
        example: '"Stock prioritaire - demande urgente"'
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        custom: []
    cleanBodyParameters:
      distributions: null
    fileParameters: []
    responses:
      -
        status: 201
        content: |-
          {
            "success": true,
            "message": "Commande répartie avec succès dans 2 entrepôt(s)",
            "data": {
              "commande": {
                "commande_id": "9d0e8f5a-3b2c-4d1e-8f6a-7b8c9d0e1f2a",
                "numero_commande": "CMD-2025-0001",
                "status": "livree",
                "is_fully_distributed": false,
                "can_distribute_more": true
              },
              "stock_movements": [
                {
                  "stock_movement_id": "550e8400-e29b-41d4-a716-446655440010",
                  "reference": "MV-2025-00001",
                  "movement_type": "réception commande",
                  "statut": "validated",
                  "entrepot_to": {
                    "entrepot_id": "550e8400-e29b-41d4-a716-446655440002",
                    "name": "Entrepôt Principal",
                    "code": "ENT-001"
                  },
                  "details": [
                    {
                      "product": {
                        "product_id": "550e8400-e29b-41d4-a716-446655440003",
                        "name": "Produit A",
                        "code": "PROD-001"
                      },
                      "quantite": 50
                    }
                  ]
                }
              ],
              "quantites_reparties": {
                "550e8400-e29b-41d4-a716-446655440003": 100
              },
              "quantites_restantes": {
                "550e8400-e29b-41d4-a716-446655440003": 0,
                "550e8400-e29b-41d4-a716-446655440004": 50
              }
            }
          }
        headers: []
        description: 'Répartition réussie'
        custom: []
      -
        status: 400
        content: |-
          {
            "success": false,
            "message": "La commande doit être livrée pour être répartie",
            "current_status": "validee"
          }
        headers: []
        description: 'Commande pas encore livrée'
        custom: []
      -
        status: 400
        content: |-
          {
            "success": false,
            "message": "Le produit 'Produit XYZ' n'appartient pas à cette commande"
          }
        headers: []
        description: "Produit n'appartient pas à la commande"
        custom: []
      -
        status: 400
        content: |-
          {
            "success": false,
            "message": "Quantité excessive pour le produit 'Produit A'. Restant à répartir: 30, Demandée: 50"
          }
        headers: []
        description: 'Quantité excessive'
        custom: []
      -
        status: 404
        content: |-
          {
            "success": false,
            "message": "Commande non trouvée"
          }
        headers: []
        description: 'Commande non trouvée'
        custom: []
      -
        status: 404
        content: |-
          {
            "success": false,
            "message": "Le produit avec l'ID '550e...' n'existe pas dans le système"
          }
        headers: []
        description: 'Produit non trouvé'
        custom: []
      -
        status: 422
        content: |-
          {
            "success": false,
            "message": "Erreur de validation",
            "errors": {
              "distributions": ["Au moins une répartition est requise"],
              "distributions.0.entrepot_id": ["L'entrepôt est requis"],
              "distributions.0.products.0.quantite": ["La quantité doit être au minimum 1"]
            }
          }
        headers: []
        description: 'Erreurs de validation'
        custom: []
      -
        status: 500
        content: |-
          {
            "success": false,
            "message": "Erreur lors de la répartition de la commande",
            "error": "Message d'erreur détaillé"
          }
        headers: []
        description: 'Erreur serveur'
        custom: []
    responseFields: []
    auth:
      - headers
      - Authorization
      - 'Bearer 6g43cv8PD1aE5beadkZfhV6'
    controller: null
    method: null
    route: null
    custom: []
  -
    httpMethods:
      - GET
    uri: 'api/commandes/{id}/distribution-history'
    metadata:
      groupName: 'Gestion des Commandes'
      groupDescription: |-

        API pour gérer les commandes d'achat auprès des fournisseurs.
        Toutes les routes nécessitent une authentification via Sanctum.
      subgroup: ''
      subgroupDescription: ''
      title: "Historique des répartitions d'une commande"
      description: |-
        Récupère l'historique complet de toutes les répartitions effectuées pour une commande.
        Affiche les quantités commandées, réparties et restantes par produit.
      authenticated: true
      deprecated: false
      custom: []
    headers:
      Authorization: 'Bearer Bearer {YOUR_AUTH_TOKEN}'
      Content-Type: application/json
      Accept: application/json
    urlParameters:
      id:
        name: id
        description: 'UUID de la commande.'
        required: true
        example: 9d0e8f5a-3b2c-4d1e-8f6a-7b8c9d0e1f2a
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        custom: []
    cleanUrlParameters:
      id: 9d0e8f5a-3b2c-4d1e-8f6a-7b8c9d0e1f2a
    queryParameters: []
    cleanQueryParameters: []
    bodyParameters: []
    cleanBodyParameters: []
    fileParameters: []
    responses:
      -
        status: 200
        content: |-
          {
            "success": true,
            "data": {
              "commande": {
                "commande_id": "9d0e8f5a-3b2c-4d1e-8f6a-7b8c9d0e1f2a",
                "numero_commande": "CMD-2025-0001",
                "status": "livree",
                "date_livraison_effective": "2025-10-15",
                "is_fully_distributed": false,
                "can_distribute_more": true
              },
              "quantites_commandees": {
                "550e8400-e29b-41d4-a716-446655440003": {
                  "product": {
                    "product_id": "550e8400-e29b-41d4-a716-446655440003",
                    "name": "Produit A",
                    "code": "PROD-001"
                  },
                  "quantite": 100,
                  "prix_unitaire": "2500.00"
                }
              },
              "quantites_reparties": {
                "550e8400-e29b-41d4-a716-446655440003": 50
              },
              "quantites_restantes": {
                "550e8400-e29b-41d4-a716-446655440003": 50
              },
              "repartitions": [
                {
                  "stock_movement_id": "550e8400-e29b-41d4-a716-446655440010",
                  "reference": "MV-2025-00001",
                  "entrepot": {
                    "entrepot_id": "550e8400-e29b-41d4-a716-446655440002",
                    "name": "Entrepôt Principal",
                    "code": "ENT-001"
                  },
                  "statut": "validated",
                  "note": "Répartition urgente",
                  "created_at": "2025-10-15T14:30:00.000000Z",
                  "user": {
                    "user_id": "550e8400-e29b-41d4-a716-446655440050",
                    "username": "admin",
                    "email": "admin@example.com"
                  },
                  "details": [
                    {
                      "product": {
                        "product_id": "550e8400-e29b-41d4-a716-446655440003",
                        "name": "Produit A",
                        "code": "PROD-001"
                      },
                      "quantite": 50
                    }
                  ]
                }
              ]
            }
          }
        headers: []
        description: ''
        custom: []
      -
        status: 404
        content: |-
          {
            "success": false,
            "message": "Commande non trouvée"
          }
        headers: []
        description: ''
        custom: []
    responseFields: []
    auth:
      - headers
      - Authorization
      - 'Bearer 6g43cv8PD1aE5beadkZfhV6'
    controller: null
    method: null
    route: null
    custom: []
