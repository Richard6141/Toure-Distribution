## Autogenerated by Scribe. DO NOT MODIFY.

name: 'Gestion des Ajustements de Solde Client'
description: |-

  API pour gérer les ajustements de solde des clients.
  Cette fonctionnalité permet d'enregistrer les dettes des clients migrés
  depuis l'ancien système et de faire des ajustements de solde avec traçabilité complète.

  ## Convention du solde client (current_balance)

  | Situation | Valeur |
  |-----------|--------|
  | Le client **doit** à l'entreprise (dette) | **Négatif** (-) |
  | L'entreprise **doit** au client (avance/crédit) | **Positif** (+) |

  ## Types d'ajustement disponibles

  | Type | Description | Effet sur le solde |
  |------|-------------|-------------------|
  | `dette_initiale` | Dette importée de l'ancien système | Diminue le solde (-) |
  | `ajustement_credit` | Augmentation de la dette client | Diminue le solde (-) |
  | `ajustement_debit` | Diminution de la dette (paiement, avoir) | Augmente le solde (+) |
  | `correction` | Correction d'erreur (+ ou -) | Selon le signe du montant |
  | `remise_exceptionnelle` | Remise accordée au client | Augmente le solde (+) |

  ## Sources possibles

  | Source | Description |
  |--------|-------------|
  | `migration` | Données importées lors de la migration système |
  | `manuel` | Saisie manuelle par un utilisateur |
  | `import` | Import via fichier (Excel/CSV) |
endpoints:
  -
    httpMethods:
      - GET
    uri: api/client-balance-adjustments/trashed/list
    metadata:
      groupName: 'Gestion des Ajustements de Solde Client'
      groupDescription: |-

        API pour gérer les ajustements de solde des clients.
        Cette fonctionnalité permet d'enregistrer les dettes des clients migrés
        depuis l'ancien système et de faire des ajustements de solde avec traçabilité complète.

        ## Convention du solde client (current_balance)

        | Situation | Valeur |
        |-----------|--------|
        | Le client **doit** à l'entreprise (dette) | **Négatif** (-) |
        | L'entreprise **doit** au client (avance/crédit) | **Positif** (+) |

        ## Types d'ajustement disponibles

        | Type | Description | Effet sur le solde |
        |------|-------------|-------------------|
        | `dette_initiale` | Dette importée de l'ancien système | Diminue le solde (-) |
        | `ajustement_credit` | Augmentation de la dette client | Diminue le solde (-) |
        | `ajustement_debit` | Diminution de la dette (paiement, avoir) | Augmente le solde (+) |
        | `correction` | Correction d'erreur (+ ou -) | Selon le signe du montant |
        | `remise_exceptionnelle` | Remise accordée au client | Augmente le solde (+) |

        ## Sources possibles

        | Source | Description |
        |--------|-------------|
        | `migration` | Données importées lors de la migration système |
        | `manuel` | Saisie manuelle par un utilisateur |
        | `import` | Import via fichier (Excel/CSV) |
      subgroup: ''
      subgroupDescription: ''
      title: 'Lister les ajustements annulés'
      description: 'Récupère la liste des ajustements qui ont été annulés (soft deleted).'
      authenticated: false
      deprecated: false
      custom: []
    headers:
      Content-Type: application/json
      Accept: application/json
    urlParameters: []
    cleanUrlParameters: []
    queryParameters:
      client_id:
        name: client_id
        description: 'UUID du client pour filtrer.'
        required: false
        example: 550e8400-e29b-41d4-a716-446655440000
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        custom: []
      per_page:
        name: per_page
        description: "Nombre d'éléments par page (défaut: 15)."
        required: false
        example: 20
        type: integer
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        custom: []
    cleanQueryParameters:
      client_id: 550e8400-e29b-41d4-a716-446655440000
      per_page: 20
    bodyParameters: []
    cleanBodyParameters: []
    fileParameters: []
    responses:
      -
        status: 200
        content: |-
          {
            "success": true,
            "message": "Liste des ajustements supprimés",
            "data": {
              "current_page": 1,
              "data": [ ... ],
              "per_page": 15,
              "total": 5
            }
          }
        headers: []
        description: ''
        custom: []
    responseFields: []
    auth: []
    controller: null
    method: null
    route: null
    custom: []
  -
    httpMethods:
      - GET
    uri: api/client-balance-adjustments/statistics/overview
    metadata:
      groupName: 'Gestion des Ajustements de Solde Client'
      groupDescription: |-

        API pour gérer les ajustements de solde des clients.
        Cette fonctionnalité permet d'enregistrer les dettes des clients migrés
        depuis l'ancien système et de faire des ajustements de solde avec traçabilité complète.

        ## Convention du solde client (current_balance)

        | Situation | Valeur |
        |-----------|--------|
        | Le client **doit** à l'entreprise (dette) | **Négatif** (-) |
        | L'entreprise **doit** au client (avance/crédit) | **Positif** (+) |

        ## Types d'ajustement disponibles

        | Type | Description | Effet sur le solde |
        |------|-------------|-------------------|
        | `dette_initiale` | Dette importée de l'ancien système | Diminue le solde (-) |
        | `ajustement_credit` | Augmentation de la dette client | Diminue le solde (-) |
        | `ajustement_debit` | Diminution de la dette (paiement, avoir) | Augmente le solde (+) |
        | `correction` | Correction d'erreur (+ ou -) | Selon le signe du montant |
        | `remise_exceptionnelle` | Remise accordée au client | Augmente le solde (+) |

        ## Sources possibles

        | Source | Description |
        |--------|-------------|
        | `migration` | Données importées lors de la migration système |
        | `manuel` | Saisie manuelle par un utilisateur |
        | `import` | Import via fichier (Excel/CSV) |
      subgroup: ''
      subgroupDescription: ''
      title: 'Statistiques des ajustements'
      description: 'Récupère des statistiques globales sur les ajustements de solde.'
      authenticated: false
      deprecated: false
      custom: []
    headers:
      Content-Type: application/json
      Accept: application/json
    urlParameters: []
    cleanUrlParameters: []
    queryParameters:
      date_debut:
        name: date_debut
        description: 'date Date de début pour filtrer (format: Y-m-d).'
        required: false
        example: '2024-01-01'
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        custom: []
      date_fin:
        name: date_fin
        description: 'date Date de fin pour filtrer (format: Y-m-d).'
        required: false
        example: '2024-12-31'
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        custom: []
    cleanQueryParameters:
      date_debut: '2024-01-01'
      date_fin: '2024-12-31'
    bodyParameters: []
    cleanBodyParameters: []
    fileParameters: []
    responses:
      -
        status: 200
        content: |-
          {
            "success": true,
            "message": "Statistiques des ajustements",
            "data": {
              "total_adjustments": 150,
              "total_dettes_initiales": 5000000,
              "total_credits": 200000,
              "total_debits": -150000,
              "total_corrections": 50000,
              "total_remises": -100000,
              "by_source": {
                "migration": 100,
                "manuel": 45,
                "import": 5
              },
              "clients_with_migration_debt": 80,
              "total_client_balance": 4800000,
              "formatted_total_dettes_initiales": "5 000 000,00 FCFA",
              "formatted_total_client_balance": "4 800 000,00 FCFA"
            }
          }
        headers: []
        description: ''
        custom: []
    responseFields: []
    auth: []
    controller: null
    method: null
    route: null
    custom: []
  -
    httpMethods:
      - GET
    uri: api/client-balance-adjustments/types/list
    metadata:
      groupName: 'Gestion des Ajustements de Solde Client'
      groupDescription: |-

        API pour gérer les ajustements de solde des clients.
        Cette fonctionnalité permet d'enregistrer les dettes des clients migrés
        depuis l'ancien système et de faire des ajustements de solde avec traçabilité complète.

        ## Convention du solde client (current_balance)

        | Situation | Valeur |
        |-----------|--------|
        | Le client **doit** à l'entreprise (dette) | **Négatif** (-) |
        | L'entreprise **doit** au client (avance/crédit) | **Positif** (+) |

        ## Types d'ajustement disponibles

        | Type | Description | Effet sur le solde |
        |------|-------------|-------------------|
        | `dette_initiale` | Dette importée de l'ancien système | Diminue le solde (-) |
        | `ajustement_credit` | Augmentation de la dette client | Diminue le solde (-) |
        | `ajustement_debit` | Diminution de la dette (paiement, avoir) | Augmente le solde (+) |
        | `correction` | Correction d'erreur (+ ou -) | Selon le signe du montant |
        | `remise_exceptionnelle` | Remise accordée au client | Augmente le solde (+) |

        ## Sources possibles

        | Source | Description |
        |--------|-------------|
        | `migration` | Données importées lors de la migration système |
        | `manuel` | Saisie manuelle par un utilisateur |
        | `import` | Import via fichier (Excel/CSV) |
      subgroup: ''
      subgroupDescription: ''
      title: 'Types et sources disponibles'
      description: |-
        Retourne la liste des types d'ajustement et des sources disponibles.
        Utile pour alimenter les listes déroulantes dans l'interface utilisateur.
      authenticated: false
      deprecated: false
      custom: []
    headers:
      Content-Type: application/json
      Accept: application/json
    urlParameters: []
    cleanUrlParameters: []
    queryParameters: []
    cleanQueryParameters: []
    bodyParameters: []
    cleanBodyParameters: []
    fileParameters: []
    responses:
      -
        status: 200
        content: |-
          {
            "success": true,
            "data": {
              "types": {
                "dette_initiale": "Dette initiale (Migration)",
                "ajustement_credit": "Ajustement crédit",
                "ajustement_debit": "Ajustement débit",
                "correction": "Correction",
                "remise_exceptionnelle": "Remise exceptionnelle"
              },
              "sources": {
                "migration": "Migration système",
                "manuel": "Saisie manuelle",
                "import": "Import fichier"
              },
              "type_effects": {
                "dette_initiale": "Augmente le solde (+)",
                "ajustement_credit": "Augmente le solde (+)",
                "ajustement_debit": "Diminue le solde (-)",
                "correction": "Selon le signe du montant",
                "remise_exceptionnelle": "Diminue le solde (-)"
              }
            }
          }
        headers: []
        description: ''
        custom: []
    responseFields: []
    auth: []
    controller: null
    method: null
    route: null
    custom: []
  -
    httpMethods:
      - POST
    uri: api/client-balance-adjustments/bulk-store
    metadata:
      groupName: 'Gestion des Ajustements de Solde Client'
      groupDescription: |-

        API pour gérer les ajustements de solde des clients.
        Cette fonctionnalité permet d'enregistrer les dettes des clients migrés
        depuis l'ancien système et de faire des ajustements de solde avec traçabilité complète.

        ## Convention du solde client (current_balance)

        | Situation | Valeur |
        |-----------|--------|
        | Le client **doit** à l'entreprise (dette) | **Négatif** (-) |
        | L'entreprise **doit** au client (avance/crédit) | **Positif** (+) |

        ## Types d'ajustement disponibles

        | Type | Description | Effet sur le solde |
        |------|-------------|-------------------|
        | `dette_initiale` | Dette importée de l'ancien système | Diminue le solde (-) |
        | `ajustement_credit` | Augmentation de la dette client | Diminue le solde (-) |
        | `ajustement_debit` | Diminution de la dette (paiement, avoir) | Augmente le solde (+) |
        | `correction` | Correction d'erreur (+ ou -) | Selon le signe du montant |
        | `remise_exceptionnelle` | Remise accordée au client | Augmente le solde (+) |

        ## Sources possibles

        | Source | Description |
        |--------|-------------|
        | `migration` | Données importées lors de la migration système |
        | `manuel` | Saisie manuelle par un utilisateur |
        | `import` | Import via fichier (Excel/CSV) |
      subgroup: ''
      subgroupDescription: ''
      title: 'Import en masse des dettes (Migration)'
      description: |-
        Permet d'importer plusieurs dettes initiales en une seule requête.
        Idéal pour la migration des données depuis l'ancien système.

        Toutes les dettes sont enregistrées avec :
        - type: `dette_initiale`
        - source: `migration`
      authenticated: false
      deprecated: false
      custom: []
    headers:
      Content-Type: application/json
      Accept: application/json
    urlParameters: []
    cleanUrlParameters: []
    queryParameters: []
    cleanQueryParameters: []
    bodyParameters:
      adjustments:
        name: adjustments
        description: 'Liste des ajustements à créer.'
        required: true
        example:
          - architecto
        type: 'string[]'
        enumValues: []
        exampleWasSpecified: false
        nullable: false
        custom: []
      'adjustments[].client_id':
        name: 'adjustments[].client_id'
        description: 'UUID du client.'
        required: true
        example: 550e8400-e29b-41d4-a716-446655440000
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        custom: []
      'adjustments[].montant':
        name: 'adjustments[].montant'
        description: 'Montant de la dette (sera converti en positif).'
        required: true
        example: '150000'
        type: numeric
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        custom: []
      'adjustments[].motif':
        name: 'adjustments[].motif'
        description: 'Motif personnalisé (défaut: "Dette migrée de l''ancien système").'
        required: false
        example: 'Dette 2023'
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: true
        custom: []
    cleanBodyParameters:
      adjustments:
        - architecto
    fileParameters: []
    responses:
      -
        status: 201
        content: |-
          {
            "success": true,
            "message": "Import des dettes terminé",
            "data": {
              "total_processed": 3,
              "total_errors": 0,
              "results": [
                {
                  "client_id": "...",
                  "client_name": "Client ABC",
                  "adjustment_id": "...",
                  "montant": 150000,
                  "nouveau_solde": 150000
                }
              ],
              "errors": []
            }
          }
        headers: []
        description: ''
        custom: []
      -
        status: 207
        content: |-
          {
            "success": true,
            "message": "Import des dettes terminé",
            "data": {
              "total_processed": 2,
              "total_errors": 1,
              "results": [ ... ],
              "errors": [
                {
                  "index": 2,
                  "client_id": "invalid-uuid",
                  "error": "Client non trouvé"
                }
              ]
            }
          }
        headers: []
        description: ''
        custom: []
      -
        status: 422
        content: |-
          {
            "success": false,
            "message": "Erreur de validation",
            "errors": { ... }
          }
        headers: []
        description: ''
        custom: []
    responseFields: []
    auth: []
    controller: null
    method: null
    route: null
    custom: []
  -
    httpMethods:
      - GET
    uri: 'api/client-balance-adjustments/client/{client_id}/history'
    metadata:
      groupName: 'Gestion des Ajustements de Solde Client'
      groupDescription: |-

        API pour gérer les ajustements de solde des clients.
        Cette fonctionnalité permet d'enregistrer les dettes des clients migrés
        depuis l'ancien système et de faire des ajustements de solde avec traçabilité complète.

        ## Convention du solde client (current_balance)

        | Situation | Valeur |
        |-----------|--------|
        | Le client **doit** à l'entreprise (dette) | **Négatif** (-) |
        | L'entreprise **doit** au client (avance/crédit) | **Positif** (+) |

        ## Types d'ajustement disponibles

        | Type | Description | Effet sur le solde |
        |------|-------------|-------------------|
        | `dette_initiale` | Dette importée de l'ancien système | Diminue le solde (-) |
        | `ajustement_credit` | Augmentation de la dette client | Diminue le solde (-) |
        | `ajustement_debit` | Diminution de la dette (paiement, avoir) | Augmente le solde (+) |
        | `correction` | Correction d'erreur (+ ou -) | Selon le signe du montant |
        | `remise_exceptionnelle` | Remise accordée au client | Augmente le solde (+) |

        ## Sources possibles

        | Source | Description |
        |--------|-------------|
        | `migration` | Données importées lors de la migration système |
        | `manuel` | Saisie manuelle par un utilisateur |
        | `import` | Import via fichier (Excel/CSV) |
      subgroup: ''
      subgroupDescription: ''
      title: "Historique des ajustements d'un client"
      description: |-
        Récupère l'historique complet des ajustements de solde pour un client spécifique,
        avec un résumé de son solde actuel et de sa dette initiale.
      authenticated: false
      deprecated: false
      custom: []
    headers:
      Content-Type: application/json
      Accept: application/json
    urlParameters:
      client_id:
        name: client_id
        description: 'UUID du client.'
        required: true
        example: 550e8400-e29b-41d4-a716-446655440000
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        custom: []
    cleanUrlParameters:
      client_id: 550e8400-e29b-41d4-a716-446655440000
    queryParameters: []
    cleanQueryParameters: []
    bodyParameters: []
    cleanBodyParameters: []
    fileParameters: []
    responses:
      -
        status: 200
        content: |-
          {
            "success": true,
            "message": "Historique des ajustements du client",
            "data": {
              "client": {
                "client_id": "550e8400-e29b-41d4-a716-446655440000",
                "code": "CLI001",
                "name_client": "Client ABC",
                "current_balance": 150000,
                "formatted_current_balance": "150 000,00 FCFA"
              },
              "adjustments": [
                {
                  "adjustment_id": "...",
                  "reference": "ADJ-2024-0001",
                  "type": "dette_initiale",
                  "montant": "150000.00",
                  "motif": "Dette migrée",
                  "date_ajustement": "2024-01-15T10:30:00.000000Z",
                  "user": { "name": "Admin" }
                }
              ],
              "total_adjustments": 1,
              "total_dette_initiale": 150000
            }
          }
        headers: []
        description: ''
        custom: []
      -
        status: 404
        content: |-
          {
            "success": false,
            "message": "Client non trouvé"
          }
        headers: []
        description: ''
        custom: []
    responseFields: []
    auth: []
    controller: null
    method: null
    route: null
    custom: []
  -
    httpMethods:
      - GET
    uri: api/client-balance-adjustments
    metadata:
      groupName: 'Gestion des Ajustements de Solde Client'
      groupDescription: |-

        API pour gérer les ajustements de solde des clients.
        Cette fonctionnalité permet d'enregistrer les dettes des clients migrés
        depuis l'ancien système et de faire des ajustements de solde avec traçabilité complète.

        ## Convention du solde client (current_balance)

        | Situation | Valeur |
        |-----------|--------|
        | Le client **doit** à l'entreprise (dette) | **Négatif** (-) |
        | L'entreprise **doit** au client (avance/crédit) | **Positif** (+) |

        ## Types d'ajustement disponibles

        | Type | Description | Effet sur le solde |
        |------|-------------|-------------------|
        | `dette_initiale` | Dette importée de l'ancien système | Diminue le solde (-) |
        | `ajustement_credit` | Augmentation de la dette client | Diminue le solde (-) |
        | `ajustement_debit` | Diminution de la dette (paiement, avoir) | Augmente le solde (+) |
        | `correction` | Correction d'erreur (+ ou -) | Selon le signe du montant |
        | `remise_exceptionnelle` | Remise accordée au client | Augmente le solde (+) |

        ## Sources possibles

        | Source | Description |
        |--------|-------------|
        | `migration` | Données importées lors de la migration système |
        | `manuel` | Saisie manuelle par un utilisateur |
        | `import` | Import via fichier (Excel/CSV) |
      subgroup: ''
      subgroupDescription: ''
      title: 'Lister les ajustements de solde'
      description: 'Récupère la liste paginée des ajustements de solde avec possibilité de filtrage.'
      authenticated: false
      deprecated: false
      custom: []
    headers:
      Content-Type: application/json
      Accept: application/json
    urlParameters: []
    cleanUrlParameters: []
    queryParameters:
      client_id:
        name: client_id
        description: 'UUID du client pour filtrer.'
        required: false
        example: 550e8400-e29b-41d4-a716-446655440000
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        custom: []
      type:
        name: type
        description: "Type d'ajustement (dette_initiale, ajustement_credit, ajustement_debit, correction, remise_exceptionnelle)."
        required: false
        example: dette_initiale
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        custom: []
      source:
        name: source
        description: "Source de l'ajustement (migration, manuel, import)."
        required: false
        example: migration
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        custom: []
      date_debut:
        name: date_debut
        description: 'date Date de début pour filtrer par période (format: Y-m-d).'
        required: false
        example: '2024-01-01'
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        custom: []
      date_fin:
        name: date_fin
        description: 'date Date de fin pour filtrer par période (format: Y-m-d).'
        required: false
        example: '2024-12-31'
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        custom: []
      search:
        name: search
        description: 'Recherche par référence, motif ou nom/code client.'
        required: false
        example: ADJ-2024
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        custom: []
      sort_by:
        name: sort_by
        description: 'Colonne de tri (created_at, date_ajustement, montant).'
        required: false
        example: created_at
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        custom: []
      sort_order:
        name: sort_order
        description: 'Ordre de tri (asc, desc).'
        required: false
        example: desc
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        custom: []
      per_page:
        name: per_page
        description: "Nombre d'éléments par page (défaut: 15)."
        required: false
        example: 20
        type: integer
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        custom: []
    cleanQueryParameters:
      client_id: 550e8400-e29b-41d4-a716-446655440000
      type: dette_initiale
      source: migration
      date_debut: '2024-01-01'
      date_fin: '2024-12-31'
      search: ADJ-2024
      sort_by: created_at
      sort_order: desc
      per_page: 20
    bodyParameters: []
    cleanBodyParameters: []
    fileParameters: []
    responses:
      -
        status: 200
        content: |-
          {
            "success": true,
            "message": "Liste des ajustements de solde",
            "data": {
              "current_page": 1,
              "data": [
                {
                  "adjustment_id": "550e8400-e29b-41d4-a716-446655440000",
                  "reference": "ADJ-2024-0001",
                  "client_id": "...",
                  "type": "dette_initiale",
                  "montant": "150000.00",
                  "ancien_solde": "0.00",
                  "nouveau_solde": "150000.00",
                  "motif": "Dette migrée de l'ancien système",
                  "source": "migration",
                  "date_ajustement": "2024-01-15T10:30:00.000000Z",
                  "client": { "client_id": "...", "name_client": "Client ABC" },
                  "user": { "user_id": "...", "name": "Admin" }
                }
              ],
              "per_page": 15,
              "total": 50
            }
          }
        headers: []
        description: ''
        custom: []
    responseFields: []
    auth: []
    controller: null
    method: null
    route: null
    custom: []
  -
    httpMethods:
      - POST
    uri: api/client-balance-adjustments
    metadata:
      groupName: 'Gestion des Ajustements de Solde Client'
      groupDescription: |-

        API pour gérer les ajustements de solde des clients.
        Cette fonctionnalité permet d'enregistrer les dettes des clients migrés
        depuis l'ancien système et de faire des ajustements de solde avec traçabilité complète.

        ## Convention du solde client (current_balance)

        | Situation | Valeur |
        |-----------|--------|
        | Le client **doit** à l'entreprise (dette) | **Négatif** (-) |
        | L'entreprise **doit** au client (avance/crédit) | **Positif** (+) |

        ## Types d'ajustement disponibles

        | Type | Description | Effet sur le solde |
        |------|-------------|-------------------|
        | `dette_initiale` | Dette importée de l'ancien système | Diminue le solde (-) |
        | `ajustement_credit` | Augmentation de la dette client | Diminue le solde (-) |
        | `ajustement_debit` | Diminution de la dette (paiement, avoir) | Augmente le solde (+) |
        | `correction` | Correction d'erreur (+ ou -) | Selon le signe du montant |
        | `remise_exceptionnelle` | Remise accordée au client | Augmente le solde (+) |

        ## Sources possibles

        | Source | Description |
        |--------|-------------|
        | `migration` | Données importées lors de la migration système |
        | `manuel` | Saisie manuelle par un utilisateur |
        | `import` | Import via fichier (Excel/CSV) |
      subgroup: ''
      subgroupDescription: ''
      title: 'Créer un ajustement de solde'
      description: |-
        Enregistre un nouvel ajustement de solde pour un client.
        Le solde du client est automatiquement mis à jour.

        ## Comportement selon le type

        - **dette_initiale** / **ajustement_credit** : Diminue le solde (le client doit plus)
        - **ajustement_debit** / **remise_exceptionnelle** : Augmente le solde (le client doit moins)
        - **correction** : Le signe du montant est conservé tel que saisi

        > **Note** : Le montant saisi est toujours en valeur absolue. Le système applique automatiquement le signe correct.
      authenticated: false
      deprecated: false
      custom: []
    headers:
      Content-Type: application/json
      Accept: application/json
    urlParameters: []
    cleanUrlParameters: []
    queryParameters: []
    cleanQueryParameters: []
    bodyParameters:
      client_id:
        name: client_id
        description: 'UUID du client.'
        required: true
        example: 550e8400-e29b-41d4-a716-446655440000
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        custom: []
      type:
        name: type
        description: "Type d'ajustement."
        required: true
        example: dette_initiale
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        custom: []
      montant:
        name: montant
        description: "Montant de l'ajustement (différent de 0)."
        required: true
        example: '150000'
        type: numeric
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        custom: []
      motif:
        name: motif
        description: "Raison de l'ajustement (max 255 caractères)."
        required: true
        example: "Dette migrée de l'ancien système"
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        custom: []
      note:
        name: note
        description: 'Informations supplémentaires (max 1000 caractères).'
        required: false
        example: 'Référence ancien système: CLI-2023-456'
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: true
        custom: []
      source:
        name: source
        description: "Source de l'ajustement (migration, manuel, import). Défaut: manuel."
        required: false
        example: migration
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: true
        custom: []
      date_ajustement:
        name: date_ajustement
        description: "Date de l'ajustement. Défaut: maintenant."
        required: false
        example: '2024-01-15 10:30:00'
        type: datetime
        enumValues: []
        exampleWasSpecified: true
        nullable: true
        custom: []
    cleanBodyParameters:
      client_id: 550e8400-e29b-41d4-a716-446655440000
      type: dette_initiale
      montant: '150000'
      motif: "Dette migrée de l'ancien système"
      note: 'Référence ancien système: CLI-2023-456'
      source: migration
      date_ajustement: '2024-01-15 10:30:00'
    fileParameters: []
    responses:
      -
        status: 201
        content: |-
          {
            "success": true,
            "message": "Ajustement de solde enregistré avec succès",
            "data": {
              "adjustment": {
                "adjustment_id": "550e8400-e29b-41d4-a716-446655440000",
                "reference": "ADJ-2024-0001",
                "client_id": "...",
                "type": "dette_initiale",
                "montant": "150000.00",
                "ancien_solde": "0.00",
                "nouveau_solde": "150000.00",
                "motif": "Dette migrée de l'ancien système",
                "source": "migration",
                "date_ajustement": "2024-01-15T10:30:00.000000Z"
              },
              "client": {
                "client_id": "...",
                "name_client": "Client ABC",
                "ancien_solde": 0,
                "nouveau_solde": 150000,
                "formatted_ancien_solde": "0,00 FCFA",
                "formatted_nouveau_solde": "150 000,00 FCFA"
              }
            }
          }
        headers: []
        description: ''
        custom: []
      -
        status: 422
        content: |-
          {
            "success": false,
            "message": "Erreur de validation des données",
            "errors": {
              "client_id": ["Le client sélectionné n'existe pas"],
              "montant": ["Le montant ne peut pas être égal à zéro"]
            }
          }
        headers: []
        description: ''
        custom: []
      -
        status: 500
        content: |-
          {
            "success": false,
            "message": "Erreur lors de l'enregistrement de l'ajustement",
            "error": "Message d'erreur détaillé"
          }
        headers: []
        description: ''
        custom: []
    responseFields: []
    auth: []
    controller: null
    method: null
    route: null
    custom: []
  -
    httpMethods:
      - GET
    uri: 'api/client-balance-adjustments/{id}'
    metadata:
      groupName: 'Gestion des Ajustements de Solde Client'
      groupDescription: |-

        API pour gérer les ajustements de solde des clients.
        Cette fonctionnalité permet d'enregistrer les dettes des clients migrés
        depuis l'ancien système et de faire des ajustements de solde avec traçabilité complète.

        ## Convention du solde client (current_balance)

        | Situation | Valeur |
        |-----------|--------|
        | Le client **doit** à l'entreprise (dette) | **Négatif** (-) |
        | L'entreprise **doit** au client (avance/crédit) | **Positif** (+) |

        ## Types d'ajustement disponibles

        | Type | Description | Effet sur le solde |
        |------|-------------|-------------------|
        | `dette_initiale` | Dette importée de l'ancien système | Diminue le solde (-) |
        | `ajustement_credit` | Augmentation de la dette client | Diminue le solde (-) |
        | `ajustement_debit` | Diminution de la dette (paiement, avoir) | Augmente le solde (+) |
        | `correction` | Correction d'erreur (+ ou -) | Selon le signe du montant |
        | `remise_exceptionnelle` | Remise accordée au client | Augmente le solde (+) |

        ## Sources possibles

        | Source | Description |
        |--------|-------------|
        | `migration` | Données importées lors de la migration système |
        | `manuel` | Saisie manuelle par un utilisateur |
        | `import` | Import via fichier (Excel/CSV) |
      subgroup: ''
      subgroupDescription: ''
      title: 'Afficher un ajustement'
      description: "Récupère les détails d'un ajustement de solde spécifique."
      authenticated: false
      deprecated: false
      custom: []
    headers:
      Content-Type: application/json
      Accept: application/json
    urlParameters:
      id:
        name: id
        description: "UUID de l'ajustement."
        required: true
        example: 550e8400-e29b-41d4-a716-446655440000
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        custom: []
    cleanUrlParameters:
      id: 550e8400-e29b-41d4-a716-446655440000
    queryParameters: []
    cleanQueryParameters: []
    bodyParameters: []
    cleanBodyParameters: []
    fileParameters: []
    responses:
      -
        status: 200
        content: |-
          {
            "success": true,
            "data": {
              "adjustment_id": "550e8400-e29b-41d4-a716-446655440000",
              "reference": "ADJ-2024-0001",
              "client_id": "...",
              "type": "dette_initiale",
              "montant": "150000.00",
              "ancien_solde": "0.00",
              "nouveau_solde": "150000.00",
              "motif": "Dette migrée de l'ancien système",
              "note": "Référence ancien système: CLI-2023-456",
              "source": "migration",
              "date_ajustement": "2024-01-15T10:30:00.000000Z",
              "client": { "client_id": "...", "name_client": "Client ABC", "code": "CLI001" },
              "user": { "user_id": "...", "name": "Admin" }
            }
          }
        headers: []
        description: ''
        custom: []
      -
        status: 404
        content: |-
          {
            "success": false,
            "message": "Ajustement non trouvé"
          }
        headers: []
        description: ''
        custom: []
    responseFields: []
    auth: []
    controller: null
    method: null
    route: null
    custom: []
  -
    httpMethods:
      - PUT
    uri: 'api/client-balance-adjustments/{id}'
    metadata:
      groupName: 'Gestion des Ajustements de Solde Client'
      groupDescription: |-

        API pour gérer les ajustements de solde des clients.
        Cette fonctionnalité permet d'enregistrer les dettes des clients migrés
        depuis l'ancien système et de faire des ajustements de solde avec traçabilité complète.

        ## Convention du solde client (current_balance)

        | Situation | Valeur |
        |-----------|--------|
        | Le client **doit** à l'entreprise (dette) | **Négatif** (-) |
        | L'entreprise **doit** au client (avance/crédit) | **Positif** (+) |

        ## Types d'ajustement disponibles

        | Type | Description | Effet sur le solde |
        |------|-------------|-------------------|
        | `dette_initiale` | Dette importée de l'ancien système | Diminue le solde (-) |
        | `ajustement_credit` | Augmentation de la dette client | Diminue le solde (-) |
        | `ajustement_debit` | Diminution de la dette (paiement, avoir) | Augmente le solde (+) |
        | `correction` | Correction d'erreur (+ ou -) | Selon le signe du montant |
        | `remise_exceptionnelle` | Remise accordée au client | Augmente le solde (+) |

        ## Sources possibles

        | Source | Description |
        |--------|-------------|
        | `migration` | Données importées lors de la migration système |
        | `manuel` | Saisie manuelle par un utilisateur |
        | `import` | Import via fichier (Excel/CSV) |
      subgroup: ''
      subgroupDescription: ''
      title: 'Modifier un ajustement'
      description: |-
        Met à jour les informations d'un ajustement existant.

        **Important** : Seuls le motif et la note peuvent être modifiés.
        Le montant et le type ne peuvent pas être changés pour préserver l'intégrité comptable.
        Pour corriger un montant erroné, annulez l'ajustement et créez-en un nouveau.
      authenticated: false
      deprecated: false
      custom: []
    headers:
      Content-Type: application/json
      Accept: application/json
    urlParameters:
      id:
        name: id
        description: "UUID de l'ajustement."
        required: true
        example: 550e8400-e29b-41d4-a716-446655440000
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        custom: []
    cleanUrlParameters:
      id: 550e8400-e29b-41d4-a716-446655440000
    queryParameters: []
    cleanQueryParameters: []
    bodyParameters:
      motif:
        name: motif
        description: "Nouvelle raison de l'ajustement (max 255 caractères)."
        required: false
        example: 'Correction du motif'
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        custom: []
      note:
        name: note
        description: 'Nouvelles informations supplémentaires (max 1000 caractères).'
        required: false
        example: 'Note mise à jour'
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: true
        custom: []
    cleanBodyParameters:
      motif: 'Correction du motif'
      note: 'Note mise à jour'
    fileParameters: []
    responses:
      -
        status: 200
        content: |-
          {
            "success": true,
            "message": "Ajustement mis à jour avec succès",
            "data": {
              "adjustment_id": "...",
              "reference": "ADJ-2024-0001",
              "motif": "Correction du motif",
              "note": "Note mise à jour",
              "client": { ... },
              "user": { ... }
            }
          }
        headers: []
        description: ''
        custom: []
      -
        status: 404
        content: |-
          {
            "success": false,
            "message": "Ajustement non trouvé"
          }
        headers: []
        description: ''
        custom: []
    responseFields: []
    auth: []
    controller: null
    method: null
    route: null
    custom: []
  -
    httpMethods:
      - PATCH
    uri: 'api/client-balance-adjustments/{id}'
    metadata:
      groupName: 'Gestion des Ajustements de Solde Client'
      groupDescription: |-

        API pour gérer les ajustements de solde des clients.
        Cette fonctionnalité permet d'enregistrer les dettes des clients migrés
        depuis l'ancien système et de faire des ajustements de solde avec traçabilité complète.

        ## Convention du solde client (current_balance)

        | Situation | Valeur |
        |-----------|--------|
        | Le client **doit** à l'entreprise (dette) | **Négatif** (-) |
        | L'entreprise **doit** au client (avance/crédit) | **Positif** (+) |

        ## Types d'ajustement disponibles

        | Type | Description | Effet sur le solde |
        |------|-------------|-------------------|
        | `dette_initiale` | Dette importée de l'ancien système | Diminue le solde (-) |
        | `ajustement_credit` | Augmentation de la dette client | Diminue le solde (-) |
        | `ajustement_debit` | Diminution de la dette (paiement, avoir) | Augmente le solde (+) |
        | `correction` | Correction d'erreur (+ ou -) | Selon le signe du montant |
        | `remise_exceptionnelle` | Remise accordée au client | Augmente le solde (+) |

        ## Sources possibles

        | Source | Description |
        |--------|-------------|
        | `migration` | Données importées lors de la migration système |
        | `manuel` | Saisie manuelle par un utilisateur |
        | `import` | Import via fichier (Excel/CSV) |
      subgroup: ''
      subgroupDescription: ''
      title: 'Modifier un ajustement'
      description: |-
        Met à jour les informations d'un ajustement existant.

        **Important** : Seuls le motif et la note peuvent être modifiés.
        Le montant et le type ne peuvent pas être changés pour préserver l'intégrité comptable.
        Pour corriger un montant erroné, annulez l'ajustement et créez-en un nouveau.
      authenticated: false
      deprecated: false
      custom: []
    headers:
      Content-Type: application/json
      Accept: application/json
    urlParameters:
      id:
        name: id
        description: "UUID de l'ajustement."
        required: true
        example: 550e8400-e29b-41d4-a716-446655440000
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        custom: []
    cleanUrlParameters:
      id: 550e8400-e29b-41d4-a716-446655440000
    queryParameters: []
    cleanQueryParameters: []
    bodyParameters:
      motif:
        name: motif
        description: "Nouvelle raison de l'ajustement (max 255 caractères)."
        required: false
        example: 'Correction du motif'
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        custom: []
      note:
        name: note
        description: 'Nouvelles informations supplémentaires (max 1000 caractères).'
        required: false
        example: 'Note mise à jour'
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: true
        custom: []
    cleanBodyParameters:
      motif: 'Correction du motif'
      note: 'Note mise à jour'
    fileParameters: []
    responses:
      -
        status: 200
        content: |-
          {
            "success": true,
            "message": "Ajustement mis à jour avec succès",
            "data": {
              "adjustment_id": "...",
              "reference": "ADJ-2024-0001",
              "motif": "Correction du motif",
              "note": "Note mise à jour",
              "client": { ... },
              "user": { ... }
            }
          }
        headers: []
        description: ''
        custom: []
      -
        status: 404
        content: |-
          {
            "success": false,
            "message": "Ajustement non trouvé"
          }
        headers: []
        description: ''
        custom: []
    responseFields: []
    auth: []
    controller: null
    method: null
    route: null
    custom: []
  -
    httpMethods:
      - DELETE
    uri: 'api/client-balance-adjustments/{id}'
    metadata:
      groupName: 'Gestion des Ajustements de Solde Client'
      groupDescription: |-

        API pour gérer les ajustements de solde des clients.
        Cette fonctionnalité permet d'enregistrer les dettes des clients migrés
        depuis l'ancien système et de faire des ajustements de solde avec traçabilité complète.

        ## Convention du solde client (current_balance)

        | Situation | Valeur |
        |-----------|--------|
        | Le client **doit** à l'entreprise (dette) | **Négatif** (-) |
        | L'entreprise **doit** au client (avance/crédit) | **Positif** (+) |

        ## Types d'ajustement disponibles

        | Type | Description | Effet sur le solde |
        |------|-------------|-------------------|
        | `dette_initiale` | Dette importée de l'ancien système | Diminue le solde (-) |
        | `ajustement_credit` | Augmentation de la dette client | Diminue le solde (-) |
        | `ajustement_debit` | Diminution de la dette (paiement, avoir) | Augmente le solde (+) |
        | `correction` | Correction d'erreur (+ ou -) | Selon le signe du montant |
        | `remise_exceptionnelle` | Remise accordée au client | Augmente le solde (+) |

        ## Sources possibles

        | Source | Description |
        |--------|-------------|
        | `migration` | Données importées lors de la migration système |
        | `manuel` | Saisie manuelle par un utilisateur |
        | `import` | Import via fichier (Excel/CSV) |
      subgroup: ''
      subgroupDescription: ''
      title: 'Annuler un ajustement'
      description: |-
        Annule un ajustement de solde (soft delete).
        Le solde du client est automatiquement recalculé pour annuler l'effet de l'ajustement.

        **Attention** : Cette action inverse l'effet de l'ajustement sur le solde du client.
      authenticated: false
      deprecated: false
      custom: []
    headers:
      Content-Type: application/json
      Accept: application/json
    urlParameters:
      id:
        name: id
        description: "UUID de l'ajustement à annuler."
        required: true
        example: 550e8400-e29b-41d4-a716-446655440000
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        custom: []
    cleanUrlParameters:
      id: 550e8400-e29b-41d4-a716-446655440000
    queryParameters: []
    cleanQueryParameters: []
    bodyParameters: []
    cleanBodyParameters: []
    fileParameters: []
    responses:
      -
        status: 200
        content: |-
          {
            "success": true,
            "message": "Ajustement annulé avec succès",
            "data": {
              "adjustment_id": "550e8400-e29b-41d4-a716-446655440000",
              "client_nouveau_solde": 0
            }
          }
        headers: []
        description: ''
        custom: []
      -
        status: 404
        content: |-
          {
            "success": false,
            "message": "Ajustement non trouvé"
          }
        headers: []
        description: ''
        custom: []
      -
        status: 500
        content: |-
          {
            "success": false,
            "message": "Erreur lors de l'annulation de l'ajustement",
            "error": "Message d'erreur détaillé"
          }
        headers: []
        description: ''
        custom: []
    responseFields: []
    auth: []
    controller: null
    method: null
    route: null
    custom: []
  -
    httpMethods:
      - POST
    uri: 'api/client-balance-adjustments/{id}/restore'
    metadata:
      groupName: 'Gestion des Ajustements de Solde Client'
      groupDescription: |-

        API pour gérer les ajustements de solde des clients.
        Cette fonctionnalité permet d'enregistrer les dettes des clients migrés
        depuis l'ancien système et de faire des ajustements de solde avec traçabilité complète.

        ## Convention du solde client (current_balance)

        | Situation | Valeur |
        |-----------|--------|
        | Le client **doit** à l'entreprise (dette) | **Négatif** (-) |
        | L'entreprise **doit** au client (avance/crédit) | **Positif** (+) |

        ## Types d'ajustement disponibles

        | Type | Description | Effet sur le solde |
        |------|-------------|-------------------|
        | `dette_initiale` | Dette importée de l'ancien système | Diminue le solde (-) |
        | `ajustement_credit` | Augmentation de la dette client | Diminue le solde (-) |
        | `ajustement_debit` | Diminution de la dette (paiement, avoir) | Augmente le solde (+) |
        | `correction` | Correction d'erreur (+ ou -) | Selon le signe du montant |
        | `remise_exceptionnelle` | Remise accordée au client | Augmente le solde (+) |

        ## Sources possibles

        | Source | Description |
        |--------|-------------|
        | `migration` | Données importées lors de la migration système |
        | `manuel` | Saisie manuelle par un utilisateur |
        | `import` | Import via fichier (Excel/CSV) |
      subgroup: ''
      subgroupDescription: ''
      title: 'Restaurer un ajustement annulé'
      description: 'Restaure un ajustement précédemment annulé et ré-applique son effet sur le solde du client.'
      authenticated: false
      deprecated: false
      custom: []
    headers:
      Content-Type: application/json
      Accept: application/json
    urlParameters:
      id:
        name: id
        description: "UUID de l'ajustement à restaurer."
        required: true
        example: 550e8400-e29b-41d4-a716-446655440000
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        custom: []
    cleanUrlParameters:
      id: 550e8400-e29b-41d4-a716-446655440000
    queryParameters: []
    cleanQueryParameters: []
    bodyParameters: []
    cleanBodyParameters: []
    fileParameters: []
    responses:
      -
        status: 200
        content: |-
          {
            "success": true,
            "message": "Ajustement restauré avec succès",
            "data": {
              "adjustment_id": "...",
              "reference": "ADJ-2024-0001",
              "client": { ... },
              "user": { ... }
            }
          }
        headers: []
        description: ''
        custom: []
      -
        status: 400
        content: |-
          {
            "success": false,
            "message": "Cet ajustement n'est pas supprimé"
          }
        headers: []
        description: ''
        custom: []
      -
        status: 404
        content: |-
          {
            "success": false,
            "message": "Ajustement non trouvé"
          }
        headers: []
        description: ''
        custom: []
    responseFields: []
    auth: []
    controller: null
    method: null
    route: null
    custom: []
